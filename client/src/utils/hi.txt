auth and LLM call helper functions